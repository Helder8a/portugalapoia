document.addEventListener("DOMContentLoaded", () => { let e = document.getElementById("preloader"); e && window.addEventListener("load", () => { e.classList.add("hidden") }); let t = document.getElementById("scrollTopBtn"); t && (window.onscroll = () => { document.body.scrollTop > 200 || document.documentElement.scrollTop > 200 ? t.classList.add("visible") : t.classList.remove("visible") }, t.addEventListener("click", e => { e.preventDefault(), window.scrollTo({ top: 0, behavior: "smooth" }) })); let r = document.getElementById("theme-toggle"), d = document.body, s = e => { "dark" === e ? (d.classList.add("dark-theme"), r && (r.checked = !0)) : (d.classList.remove("dark-theme"), r && (r.checked = !1)) }, l = localStorage.getItem("theme"), o = window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches; l ? s(l) : o && s("dark"), r && r.addEventListener("change", () => { let e = r.checked ? "dark" : "light"; localStorage.setItem("theme", e), s(e) }) }), "serviceWorker" in navigator && window.addEventListener("load", () => { navigator.serviceWorker.register("/sw.js").then(e => { console.log("Service Worker registrado con \xe9xito:", e) }).catch(e => { console.log("Error al registrar el Service Worker:", e) }) });