const CACHE_NAME = "portugalapoia-cache-v2", urlsToCache = ["/", "/index.html", "/empregos.html", "/doa\xe7\xf5es.html", "/servi\xe7os.html", "/habita\xe7\xe3o.html", "/offline.html", "/style.css", "/script.js", "/images_pta/logocuadrado.jpg"]; self.addEventListener("install", e => { e.waitUntil(caches.open(CACHE_NAME).then(e => (console.log("Cache abierto"), e.addAll(urlsToCache)))) }), self.addEventListener("activate", e => { e.waitUntil(caches.keys().then(e => Promise.all(e.map(e => { if (e !== CACHE_NAME) return caches.delete(e) })))) }), self.addEventListener("fetch", e => { e.respondWith(caches.match(e.request).then(t => t || fetch(e.request).then(t => { if (!t || 200 !== t.status || "basic" !== t.type) return t; let a = t.clone(); return caches.open(CACHE_NAME).then(t => { t.put(e.request, a) }), t })).catch(() => caches.match("/offline.html"))) });